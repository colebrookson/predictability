(max(mean_pacf)+0.5*max(mean_pacf))),
xlab = "Lags", ylab = "Mean PACF")
abline(h = 0, col = "grey80", lty = 2)
abline(h = ci, col = "red2", lty = 2)
abline(h = -ci, col = "red2", lty = 2)
dev.off()
mean_pacf
ci <- 1.96*std_error(mean_pacf)
ci <- 1.96*std_err(mean_pacf)
ci
lags <- c(1:18)
png(paste0(
here::here("./figs/neon-autocorrelation-plots/mean-autocorrelation/"),
"pacf-mean-ticks", ".png"),
)
plot(x = lags, y = mean_pacf, type = "h",
ylim = c(-(max(mean_pacf)+0.5*max(mean_pacf)),
(max(mean_pacf)+0.5*max(mean_pacf))),
xlab = "Lags", ylab = "Mean PACF")
dev.off()
png(paste0(
here::here("./figs/neon-autocorrelation-plots/mean-autocorrelation/"),
"pacf-mean-ticks", ".png"),
)
plot(x = lags, y = mean_pacf, type = "h",
ylim = c(-(max(mean_pacf)+0.5*max(mean_pacf)),
(max(mean_pacf)+0.5*max(mean_pacf))),
xlab = "Lags", ylab = "Mean PACF")
png(paste0(
here::here("./figs/neon-autocorrelation-plots/mean-autocorrelation/"),
"pacf-mean-ticks", ".png"),
)
plot(x = lags, y = mean_pacf, type = "h",
ylim = c(-(max(mean_pacf)+0.5*max(mean_pacf)),
(max(mean_pacf)+0.5*max(mean_pacf))),
xlab = "Lags", ylab = "Mean PACF")
png(paste0(
here::here("./figs/neon-autocorrelation-plots/mean-autocorrelation/"),
"pacf-mean-ticks", ".png"),
)
plot(x = lags, y = mean_pacf, type = "h",
ylim = c(-(max(mean_pacf)+0.5*max(mean_pacf)),
(max(mean_pacf)+0.5*max(mean_pacf))),
xlab = "Lags", ylab = "Mean PACF")
abline(h = 0, col = "grey80", lty = 2)
abline(h = ci, col = "red2", lty = 2)
abline(h = -ci, col = "red2", lty = 2)
dev.off()
png(paste0(
here::here("./figs/neon-autocorrelation-plots/mean-autocorrelation/"),
"acf-mean-ticks", ".png"),
)
mean_acf <- colMeans(do.call(rbind, all_sites_acf), na.rm = TRUE)
ci <- 1.96*std_err(mean_acf)
lags <- c(1:18)
plot(x = lags, y = mean_acf, type = "h",
ylim = c(-(max(mean_acf)+0.5*max(mean_acf)),
(max(mean_acf)+0.5*max(mean_acf))),
xlab = "Lags", ylab = "Mean PACF")
abline(h = 0, col = "grey80", lty = 2)
abline(h = ci, col = "red2", lty = 2)
abline(h = -ci, col = "red2", lty = 2)
dev.off()
library(targets)
tar_visnetwork()
tar_make()
ticks <- readr::read_csv(here::here("./data/efi-neon-data/ticks.csv"))
terr_day <- readr::read_csv(
here::here("./data/efi-neon-data/terrestrial-daily.csv"))
terr_30 <- readr::read_csv(here::here("./data/efi-neon-data/terrestrial-30-mins.csv"))
site_data <- readr::read_csv(here::here("./data/efi-neon-data/site_data.csv"))
phenology <- readr::read_csv(here::here("./data/efi-neon-data/phenology.csv"))
beetles <- readr::read_csv(here::here("./data/efi-neon-data/beetles.csv"))
aquatic_hr <- readr::read_csv(here::here("./data/efi-neon-data/aquatic-hourly.csv"))
aquatic_day <- readr::read_csv(here::here("./data/efi-neon-data/aquatic-daily.csv"))
unique(terr_day$site_id)
site <- "BART"
terr_day_site <- terr_day[which(terr_day$site_id == site), ]
terr_day_site
ggplot2::ggplot() +
ggplot2::geom_line(data = terr_day_site %>% dplyr::filer(variable == "le"),
ggplot2::aes(x = datetime, y = observation))
library(magrittr)
ggplot2::ggplot() +
ggplot2::geom_line(data = terr_day_site %>% dplyr::filer(variable == "le"),
ggplot2::aes(x = datetime, y = observation))
ggplot2::ggplot() +
ggplot2::geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
ggplot2::aes(x = datetime, y = observation))
ggplot2::ggplot() +
ggplot2::geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(data = terr_day_site %>% dplyr::filter(variable == "le"),
ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
source(here::here("./R/functions_global.R"))
source(here::here("./src/R/functions_global.R"))
ggplot2::ggplot() +
ggplot2::geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(data = terr_day_site %>% dplyr::filter(variable == "le"),
ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
library(ggplot2)
ggplot() +
geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation)) +
geom_point(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
ggplot() +
geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation)) +
geom_point(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21, alpha = 0.2) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
ggplot() +
geom_line(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation)) +
geom_point(data = terr_day_site %>% dplyr::filter(variable == "le"),
aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, fill = variable),
size = 2, fill = "red3", shape = 21, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 2, fill = "red3", alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 0.5, fill = "red3", alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, fill = variable),
size = 0.5, fill = "red3", alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time") +
scale_
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 0.5, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time") +
scale_
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 0.5, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 2, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 2, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux / Net Ecosystem Exchange", x = "Time")
ggplot() +
geom_line(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable)) +
geom_point(data = terr_day_site,
aes(x = datetime, y = observation, colour = variable),
size = 2, alpha = 0.2) +
theme_base() +
labs(y = "Latent heat flux / Net Ecosystem Exchange", x = "Time")
obs_le <- terr_day_site$observation[which(variable == "le")]
obs_le <- terr_day_site$observation[which(terr_day_site$variable == "le")]
obs_nee <- terr_day_site$observation[which(terr_day_site$variable == "nee")]
81.72/2
40.86+1125
library(targets)
tar_visnetwork()
tar_visnetwork()
tar_make()
tar_make()
terr_30 <- get_data_csv(
here::here("./data/efi-neon-data/terrestrial-30-mins.csv")
)
source(here::here("./src/R/functions_global.R"))
terr_30 <- get_data_csv(
here::here("./data/efi-neon-data/terrestrial-30-mins.csv")
)
unique(terr_30$variable)
ob_type = "le"
terr_30_ob <- terr_30[
which(terr_30$variable == ob_type),
]
all_sites_pacf <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_acf <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_pacf_ci <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_acf_ci <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
site_num <- 1
unique(terr_30_ob$site_id)
site = terr_30[1]
site = terr_30_ob$site_id[1]
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
??element_line
source("~/Github/predictability/src/R/functions_global.R", echo=TRUE)
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
??rel
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
source("~/Github/predictability/src/R/functions_global.R", echo=TRUE)
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
??unit
source("~/Github/predictability/src/R/functions_global.R", echo=TRUE)
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
labs(y = "# of Ticks", x = "Time")
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = "# of Ticks", x = "Time")
terr_30_site_plot
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
terr_30_site_plot
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
source("~/Github/predictability/src/R/functions_autocorr.R", echo=TRUE)
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
tar_visnetwork()
tar_make()
terr_30_ob <- terr_30[
which(terr_30$variable == ob_type),
]
all_sites_pacf <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_acf <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_pacf_ci <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
all_sites_acf_ci <- vector(mode = "list", length =
length(unique(terr_30_ob$site_id)))
site_num <- 1
# go through each site and get the values then plot them
for(site in unique(terr_30_ob$site_id)) {
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
ggsave(paste0(
here::here("./figs/neon-data-timeseries/terr-30min-by-site/"),
"terr-30min-", ob_type, "-", site, ".png"),
terr_30_site_plot)
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
}
# go through each site and get the values then plot them
for(site in unique(terr_30_ob$site_id)) {
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
ggplot2::ggsave(paste0(
here::here("./figs/neon-data-timeseries/terr-30min-by-site/"),
"terr-30min-", ob_type, "-", site, ".png"),
terr_30_site_plot)
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
}
dev.list()
# go through each site and get the values then plot them
for(site in unique(terr_30_ob$site_id)) {
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
ggplot2::ggsave(paste0(
here::here("./figs/neon-data-timeseries/terr-30min-by-site/"),
"terr-30min-", ob_type, "-", site, ".png"),
terr_30_site_plot)
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
}
site
unique(terr_30_ob$site_id)
# go through each site and get the values then plot them
for(site in unique(terr_30_ob$site_id)) {
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
ggplot2::ggsave(paste0(
here::here("./figs/neon-data-timeseries/terr-30min-by-site/"),
"terr-30min-", ob_type, "-", site, ".png"),
terr_30_site_plot)
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
# iterate and plot the outputs
site_num <- site_num + 1
print(site)
}
site
unique(terr_30_ob$site_id)
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
terr_30_site_plot
obs<-terr_30_site$observation[which(terr_30_site$variable == ob_type)]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
pacf(obs, pl = FALSE)$acf[1:18]
pacf(obs, pl = FALSE)
obs
obs
terr_30_site
obs<-!is.na(
terr_30_site$observation[which(terr_30_site$variable == ob_type)])
obs
obs <- terr_30_site$observation[
which(terr_30_site$variable == ob_type & !is.na(
terr_30_site$observation))
]
obs
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
tar_make()
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
obs <- terr_30_site$observation[
which(terr_30_site$variable == ob_type & !is.na(
terr_30_site$observation))
]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
# iterate and plot the outputs
site_num <- site_num + 1
for(site in unique(terr_30_ob$site_id)) {
terr_30_site <- terr_30_ob[which(terr_30_ob$site_id == site), ]
# site by site plot
terr_30_site_plot <- ggplot2::ggplot(data = terr_30_site) +
ggplot2::geom_line(ggplot2::aes(x = datetime, y = observation)) +
ggplot2::geom_point(ggplot2::aes(x = datetime, y = observation),
size = 2, fill = "red3", shape = 21) +
theme_base() +
ggplot2::labs(y = ob_type, x = "Time")
ggplot2::ggsave(paste0(
here::here("./figs/neon-data-timeseries/terr-30min-by-site/"),
"terr-30min-", ob_type, "-", site, ".png"),
terr_30_site_plot)
obs <- terr_30_site$observation[
which(terr_30_site$variable == ob_type & !is.na(
terr_30_site$observation))
]
all_sites_pacf[[site_num]] <- pacf(obs, pl = FALSE)$acf[1:18]
all_sites_pacf_ci[[site_num]] <- get_clim(pacf(obs, pl = FALSE))
all_sites_acf[[site_num]] <- acf(obs, pl = FALSE)$acf[1:18]
all_sites_acf_ci[[site_num]] <- get_clim(acf(obs, pl = FALSE))
#plot the outputs
autocorr_plot(obs, ob_type, site = site,
sub_folder = "terr-30min-by-site")
# iterate and plot the outputs
site_num <- site_num + 1
print(site)
}
tar_make()
tar_make()
